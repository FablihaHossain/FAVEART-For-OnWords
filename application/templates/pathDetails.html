{% extends "layout.html" %}

{% block title %} <title> Path Details </title> {% endblock title %}
   
{% block body %}

<!-- Displaying the Path Information-->
<body class = "body-html">
	<div class = "jumbotron">
		<h1>Path Details</h1>
		<h2>Path Name: {{ session['pathname'] }}
		<br>
		Path Description: {{ session['description'] }}
		<br>
		Pathmaker: {{ session['pathmaker'] }}
		<br>
		Format: {{ session['format_chosen'] }}
		<br>
		Total Number of Checkpoints: {{session['numOfCheckpoints']}}
		<br><br></h2>

		<!-- Getting the Checkpoint Information From Session -->
		{% set count = session['numOfCheckpoints'] | int %}
		{% set textList = session['checkpointTexts'] %}
		{% set animationList = session['checkpointAnimations'] %}
		{% set colorList = session['checkpointColors'] %}
		{% set fontList = session['checkpointFonts'] %}

		{% set marker_format = "marker" %}
		{% set geo_format = "geolocation" %}
		{% if session['format_chosen'] == geo_format %}
			{% set latitudeList = session['checkpointLatitudes'] %}
			{% set longitudeList = session['checkpointLongitudes'] %}
		{% endif %}

		{% if session['format_chosen'] == marker_format %}
			{% set markerList = session['markerNames']%}
			{% set markerfile = session['markerFilenames'] %}
		{% endif %}
		<!-- Displaying the Checkpoint Information-->
		{% if session['format_chosen'] == marker_format %}
				Marker: {{  markerList[x]  }}
				{% set marker_filename = markerfile[x] %}
				<a href="{{url_for('downloadMarkerFile', filename = marker_filename)}}" class="btn btn-primary btn-primary-block"> Download </a>
			{% endif %}
		{% for x in range(0, count) %}
			<b>Checkpoint {{x+1}}:<b>
			<br>
			<b>Text:</b> {{ textList[x] }}
			<br>
			<b>Animation:</b> {{ animationList[x] }}
			<br>
			<b>Color:</b> {{ colorList[x] }}
			<br>
			<b>Font:</b> {{ fontList[x] }}
			<br>
			{% set marker_format = "marker" %}
			{% set geo_format = "geolocation" %}
			{% if session['format_chosen'] == geo_format %}
					Latitude: {{ latitudeList[x] }}
					<br>
					Longitude: {{ longitudeList[x] }}
			{% endif %}

			<!-- If Marker path, download buttons that lead to the pdf versions of the markers-->
			<br><br>
		{% endfor %}

		<!-- Asking the Pathmaker if they'd like to create the path or delete progress--> 
		<form method = "post">
			<div class ="text-left">
				<button type = "submit" name = "pathCreation" value = "createPath" class = "btn btn-primary btn-primary-block"> Create Path! </button>
			</div>
			<br>
			<div class ="text-left">
				<button type = "submit" name = "pathCreation" value = "cancelPath" class = "btn btn-primary btn-primary-block"> Cancel Path </button>
			</div>
		</form>
	</div>
</body>
{% endblock body %}

<!-- Credit tp https://stackoverflow.com/questions/43811779/use-many-submit-buttons-in-the-same-form-->
